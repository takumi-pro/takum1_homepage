---
title: "å¹…å„ªå…ˆæ¢ç´¢ï¼ˆBFSï¼‰ã‚’ä½¿ã£ã¦è¿·è·¯ã®æœ€çŸ­çµŒè·¯ã‚’æ±‚ã‚ã‚‹"
pubDate: "2025-10-12"
description: ""
author: "Takumi"
image:
  url: "/blog-placeholder-1.jpg"
  alt: "ãƒ–ãƒ­ã‚°ã®ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ç”»åƒ"
categories: []
---

## å¹…å„ªå…ˆæ¢ç´¢ã®ãƒ­ã‚¸ãƒƒã‚¯
queueã‚’ç”¨ã„ã¦é ‚ç‚¹ã®è¨ªå•åˆ¤å®šã‚’è¡Œã†ã€‚queueã®å…ˆé ­ã®é ‚ç‚¹ã«ãŠã„ã¦ã€ãŸã©ã‚Œã‚‹ä»–ã®é ‚ç‚¹ã‚’æ¢ç´¢ã—ã€è¨ªå•æ¸ˆã¿ã¨åˆ¤å®šã—queueã«å…¥ã‚Œã‚‹ã€‚
ã“ã®æ“ä½œã‚’queueã®ä¸­èº«ãŒç„¡ããªã‚‹ã¾ã§ç¹°ã‚Šè¿”ã™ã€‚è¨ªå•æ¸ˆã¿åˆ¤å®šã¨åŒæ™‚ã«é ‚ç‚¹ã‹ã‚‰ä½•ã‚¹ãƒ†ãƒƒãƒ—ã‹ã‚’è¨˜éŒ²ã™ã‚‹ã“ã¨ã§ã‚ã‚‹åœ°ç‚¹ã‹ã‚‰ã®æœ€çŸ­çµŒè·¯ã‚’æ±‚ã‚ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚ï¼ˆè¾ºã®é‡ã¿ãŒå…¨ã¦ç­‰ã—ã„å ´åˆï¼‰

å˜ç´”ãªã‚°ãƒ©ãƒ•å…¥åŠ›ã«å¯¾ã—ã¦å¹…å„ªå…ˆæ¢ç´¢ã§æœ€çŸ­çµŒè·¯ã‚’æ±‚ã‚ãŸã‚‚ã®â†“

```cpp
// å¹…å„ªå…ˆæ¢ç´¢
int main() {
  // é ‚ç‚¹ã¨è¾ºã®æ•°
  int N,M;cin >> N >> M;

  vector<vector<int> > G(N);

  for (int i=0; i<M; i++) {
    int a,b;cin >> a >> b;
    G[a].push_back(b);
    G[b].push_back(a); // ç„¡å‘ã‚°ãƒ©ãƒ•
  }

  // è·é›¢ã‚’ç®¡ç†ã™ã‚‹ãƒ‡ãƒ¼ã‚¿æ§‹é€ 
  vector<int> dist(N, -1);
  queue<int> q;

  // åˆæœŸæ¡ä»¶
  dist[0] = 0;
  q.push(0);

  while(q.size()) { // queueãŒãªããªã‚‹ã¾ã§å‡¦ç†
    // å…ˆé ­ã®é ‚ç‚¹ã‚’å–ã‚Šå‡ºã™
    int top = q.front();
    q.pop();

    // ãã®é ‚ç‚¹ãŒãŸã©ã‚Œã‚‹ç‚¹ã‚’èª¿ã¹ã‚‹
    for (int v : G[top]) {
      if (dist[v] != -1) continue; // ã™ã§ã«ãƒã‚§ãƒƒã‚¯æ¸ˆã¿ã ã£ãŸã‚‰ã‚¹ãƒ«ãƒ¼

      // è·é›¢ã‚’ã‚«ã‚¦ãƒ³ãƒˆ
      dist[v] = dist[top] + 1;
      q.push(v);
    }
  }
}
```

## è¿·è·¯å•é¡Œã‚’è§£ã„ã¦ã¿ã‚‹
å¿œç”¨ã—ã¦è¿·è·¯ã®ã‚¹ã‚¿ãƒ¼ãƒˆã‹ã‚‰ã‚´ãƒ¼ãƒ«ã¾ã§ã®æœ€çŸ­çµŒè·¯ã‚’æ±‚ã‚ã‚‹
https://atcoder.jp/contests/abc007/tasks/abc007_3

```cpp
const int dy[4] = {-1,0,1,0};
const int dx[4] = {0,1,0,-1};

int main() {
  int R,C;cin >> R >> C;
  int sy, sx;cin >> sy >> sx;
  int gy, gx;cin >> gy >> gx;
  vector<string> c(R);
  for (int i=0; i<R; i++) cin >> c[i];

  // è¿·è·¯ã¨åŒã˜2æ¬¡å…ƒé…åˆ—ã‚’ç”¨æ„ã™ã‚‹
  vector<vector<int> > dist(R, vector<int>(C, -1));
  // åº§æ¨™ã¨ã—ã¦ç®¡ç†ã™ã‚‹ã®ã§pairå‹ã®queue
  queue<pair<int, int> > q;

  // åˆæœŸæ¡ä»¶
  // (sy, sx)ãŒå§‹ç‚¹
  q.push(make_pair(sy-1, sx-1));
  dist[sy-1][sx-1] = 0;

  while (q.size()) {
    pair<int, int> top = q.front();
    q.pop();

    // ä¸Šä¸‹å·¦å³æ–¹å‘ã‚’æ¢ç´¢
    for (int i=0; i<4; i++) {
      int ny = top.first + dy[i];
      int nx = top.second + dx[i];

      if (dist[ny][nx] != -1) continue; // æ¢ç´¢æ¸ˆã¿ã ã£ãŸã‚‰ã‚¹ã‚­ãƒƒãƒ—
      if (c[ny][nx] == '#') continue; // ç§»å‹•å…ˆãŒå£ã®å ´åˆã‚¹ã‚­ãƒƒãƒ—
      dist[ny][nx] = dist[top.first][top.second] + 1;
      q.push(make_pair(ny, nx));
    }
  }
  cout << dist[gy-1][gx-1] << endl;
}
```

ç„¡äº‹ACğŸ™†â€â™‚ï¸
